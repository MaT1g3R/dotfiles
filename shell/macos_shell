if [[ -z "$TMUX" ]] ;then
    ID="$( tmux ls | grep -vm1 attached | cut -d: -f1 )" # get the id of a deattached session
    if [[ -z "$ID" ]] ;then # if not available create a new one
        tmux new-session
    else
        tmux attach-session -t "$ID" # if available attach to it
    fi
fi

run_ls() {
	ls-i --color=auto -w $(tput cols) "$@"
}

run_dir() {
	dir-i --color=auto -w $(tput cols) "$@"
}

run_vdir() {
	vdir-i --color=auto -w $(tput cols) "$@"
}

source ~/dotfiles/shell/zshrc

export PATH="/usr/local/bin:/usr/local/opt/coreutils/libexec/gnubin:$PATH"
export LS_COLORS=$(ls_colors_generator)
export MANPATH="/usr/local/opt/coreutils/libexec/gnuman:$MANPATH"

alias gcc='gcc-7'
alias cc='gcc-7'
alias yolo='brew update && brew upgrade'
alias ls="run_ls"
alias dir="run_dir"
alias vdir="run_vdir"
